# Assignment NO. 2 (CloudComputing and DevOps)

> Name: Ratnakar patil.<br> PRN No: 22110373 <br> Roll No: 322050.

1. **What is Shell (Linux kernel architecture diagram):**

In the context of Unix-like operating systems such as Linux, a shell is a command-line interpreter that provides a user interface for accessing the operating system's services. The shell acts as an intermediary between the user and the kernel of the operating system. It interprets commands entered by the user and executes them.

Here's a simplified diagram of the Linux kernel architecture with the shell:

```
+------------------------+
|         Shell          |      <-- Command interpreter and user interface
+------------------------+
|   Application Programs |      <-- User-level programs
+------------------------+
|   System Libraries     |      <-- Standard C libraries, etc.
+------------------------+
|        Kernel          |      <-- Core of the operating system
+------------------------+
|       Hardware         |      <-- Physical computer hardware
+------------------------+
```

In this diagram:

- **Shell:** The shell sits between the user and the kernel. It interprets the commands entered by the user, interacts with the kernel to execute those commands, and provides feedback to the user.

- **Application Programs:** User-level programs interact with the shell. These programs may perform various tasks such as text processing, file manipulation, or system administration.

- **System Libraries:** These are libraries of functions and routines that provide essential services to application programs. They include standard C libraries and other system-specific libraries.

- **Kernel:** The kernel is the core of the operating system. It manages system resources, such as memory, processes, devices, and file systems. The shell communicates with the kernel to execute system calls and manage processes.

- **Hardware:** This layer represents the physical computer hardware, including the CPU, memory, storage devices, and input/output devices.

2. **Different types of shells:**

There are several different types of shells available in Unix-like operating systems, each with its own features and capabilities. Some of the most common shells include:

- **Bourne Shell (sh):** The original Unix shell, written by Stephen Bourne. It is lightweight and efficient but lacks some of the features found in more modern shells.

- **Bourne-Again Shell (bash):** A widely used shell, based on the Bourne Shell, but with additional features such as command-line editing, history, and job control.

- **C Shell (csh):** Another early Unix shell, with a syntax resembling the C programming language. It includes features such as command-line history and job control.

- **Korn Shell (ksh):** Developed by David Korn at Bell Labs, ksh is an enhanced version of the Bourne Shell, with additional features such as command-line editing and job control.

- **Z Shell (zsh):** A powerful and feature-rich shell that incorporates features from bash, ksh, and csh. It includes advanced command-line editing, programmable completion, and extensive customization options.


#####     2a) Write a shell script to check user is root user or not

```sh
#!/bin/bash
if [ $(id -u) -eq 0 ]
then
    echo "You are the root user."
else
    echo "You are not the root user. Please run this script as root."
fi
```


#####    2b) Write a shell script to install any particular software (ex: java or python)

```sh
#!/bin/bash

# Check if the script is being run as root
if [ "$(id -u)" -ne 0 ]
then
    echo "This script must be run as root."
    exit 1
fi

# Update package index and Install Java
apt update
apt install -y default-jdk

# Check installation
java -version
```


##### 2c) Write a shell script to check disk usage of the system and if disk usage is more than 90% it should send an email to system admin. This script should run everyday at 8:00 AM. [HINT:  study "du", "sed", crontab, mail in linux]

```sh
#!/bin/bash

disk_usage=$(df -h / | sed '1d' | awk '{print $5}' | sed 's/%//')

threshold=90

# Check if disk usage is greater than threshold
if [ $disk_usage -gt $threshold ]
then
    # Email content
    subject="Disk Usage Alert on $(hostname)"
    message="Disk usage on $(hostname) is currently at ${disk_usage}%. Please take action."

    echo "$message" | mail -s "$subject" <admin_email_address>
fi
```

#####    2d) write a shell script to take mysql database server backup. This script should run weekly on every sunday at 11:00 PM. [HINT: study "mysql" dump, crontab in linux]

```sh
#!/bin/bash

# database credentials
db_user="username"
db_password="password"
db_name="database_name"

# Backup directory
backup_dir="/path/to/backup/directory"

# Backup filename
backup_file="$backup_dir/$(date +'%Y-%m-%d')_$db_name.sql"

# Dump the MySQL database
mysqldump -u "$db_user" -p"$db_password" "$db_name" > "$backup_file"

# Check if backup was successful
if [ $? -eq 0 ]; then
    echo "MySQL database backup completed successfully."
else
    echo "Error: MySQL database backup failed."
fi
```
